{"_id":"css-background-parser","_rev":"3-c599467526e254799abac8940a60c706","name":"css-background-parser","description":"Parse an element’s CSS background properties to get a list of individual backgrounds","dist-tags":{"latest":"0.1.0"},"versions":{"0.1.0":{"name":"css-background-parser","version":"0.1.0","description":"Parse an element’s CSS background properties to get a list of individual backgrounds","main":"index.js","scripts":{"test":"echo \"Error: no test specified\" && exit 1"},"repository":{"type":"git","url":"git+https://github.com/gilmoreorless/css-background-parser.git"},"author":{"name":"Gilmore Davidson"},"license":"MIT","bugs":{"url":"https://github.com/gilmoreorless/css-background-parser/issues"},"homepage":"https://github.com/gilmoreorless/css-background-parser#readme","gitHead":"96fca1d1905c9069180de319969871c1091c1108","_id":"css-background-parser@0.1.0","_shasum":"48a17f7fe6d4d4f1bca3177ddf16c5617950741b","_from":".","_npmVersion":"2.13.1","_nodeVersion":"0.12.1","_npmUser":{"name":"gilmoreorless","email":"gilmoreorless@gmail.com"},"dist":{"shasum":"48a17f7fe6d4d4f1bca3177ddf16c5617950741b","tarball":"https://registry.npmjs.org/css-background-parser/-/css-background-parser-0.1.0.tgz","integrity":"sha512-2EZLisiZQ+7m4wwur/qiYJRniHX4K5Tc9w93MT3AS0WS1u5kaZ4FKXlOTBhOjc+CgEgPiGY+fX1yWD8UwpEqUA==","signatures":[{"keyid":"SHA256:jl3bwswu80PjjokCgh0o2w5c2U4LhQAE57gj9cz1kzA","sig":"MEYCIQDmKtJomM6Vr8MgdXhY4/2eCcc/gBlI+QtyzwYxSmsVmwIhAJw2UBgkDnQ31PC7o/0nHox2OfRjDxWipJWUuUPHp8RI"}]},"maintainers":[{"name":"gilmoreorless","email":"gilmoreorless@gmail.com"}]}},"readme":"CSS Background Parser\n=====================\n\nParse an element’s CSS background properties to get a list of individual backgrounds.\n\n_This library is still a work in progress and is probably not very useful yet. It’s pre-1.0 and has no tests yet._\n\n* Methods\n    * [parseElementStyle()][parseElementStyle]\n* Objects\n    * [Background][Background]\n    * [BackgroundList][BackgroundList]\n\n\n## Usage\n\nAvailable on npm as `css-background-parser`, or in the browser as a global called `cssBgParser`\n\n### Methods\n\n#### <a name=\"parseElementStyle\"></a> `parseElementStyle(styleObject)`\n\nTakes a [`CSSStyleDeclaration`][CSSStyleDeclaration] object and returns a [`BackgroundList`][BackgroundList] of backgrounds found in the styles.\n\nIn non-techo-babble, the only input is an object which represents an element’s style. It could be `element.style`, the result of `window.getComputedStyle(element)`, or a custom object that happens to have properties which are prefixed `background` (`backgroundColor`, `backgroundSize`, etc.).\n\nIf you want the most accurate results, I suggest you use `window.getComputedStyle(element)` — see the code examples below.\n\nSince multiple backgrounds can be assigned to an element, this method will always return a [`BackgroundList`][BackgroundList], even if there is only one background. Backgrounds are listed in order from top layer to bottom layer (in other words, the first layer is closest to the person looking at the screen). This means that the `color` property will only be filled on the _last_ `Background` object in the list, representing the bottom layer.\n\nA very basic example:\n\n```js\nvar style = getComputedStyle(someElement);\nvar bglist = cssBgParser.parseElementStyle(style);\n\nconsole.log(bglist.backgrounds.length);  // 1\nconsole.log(bglist.backgrounds[0]);      // Logs a Background object\n```\n\nMultiple backgrounds:\n\n```js\nsomeElement.style.backgroundImage = 'linear-gradient(white, blue), url(/background.png)';\nsomeElement.style.backgroundColor = 'black';\n\nvar style = getComputedStyle(someElement);\nvar bglist = cssBgParser.parseElementStyle(style);\n\nconsole.log(bglist.backgrounds.length);    // 2\n\nconsole.log(bglist.backgrounds[0].image);  // \"linear-gradient(white, blue)\"\nconsole.log(bglist.backgrounds[1].image);  // \"url(http://example.com/background.png)\"\n\nconsole.log(bglist.backgrounds[0].color);  // \"\"\nconsole.log(bglist.backgrounds[1].color);  // \"rgb(0, 0, 0)\"\n```\n\nThe difference between `element.style` and `window.getComputedStyle(element)`:\n\n```js\nsomeElement.style.background = 'red';\n\nvar parsedStyle = cssBgParser.parsesomeElemententStyle(elem.style);\nconsole.log(parsedStyle.backgrounds[0]);\n/*\n * Background {\n *     attachment: \"initial\"\n *     clip: \"initial\"\n *     color: \"red\"\n *     image: \"initial\"\n *     origin: \"initial\"\n *     position: \"initial\"\n *     repeat: \"initial\"\n *     size: \"initial\"\n * }\n */\n\nvar computed = getComputedStyle(elem);\nvar parsedComputed = cssBgParser.parseElementStyle(computed);\nconsole.log(parsedComputed.backgrounds[0]);\n/*\n * Background {\n *     attachment: \"scroll\"\n *     clip: \"border-box\"\n *     color: \"rgb(255, 0, 0)\"\n *     image: \"none\"\n *     origin: \"padding-box\"\n *     position: \"0% 0%\"\n *     repeat: \"repeat\"\n *     size: \"auto\"\n * }\n */\n```\n\n---\n\n### Objects / “Classes”\n\n#### <a name=\"Background\"></a> `Background(props)`\n\nA simple object holding the properties of a single background for an element.\n\n##### Properties\n\n`Background` objects contain the following properties, listed here with their default values (as defined by the [CSS specification][CSSBackgroundSpec]):\n\n* `attachment` — \"scroll\"\n* `clip` — \"border-box\"\n* `color` — \"\"\n* `image` — \"none\"\n* `origin` — \"padding-box\"\n* `position` — \"0% 0%\"\n* `repeat` — \"repeat\"\n* `size` — \"auto\"\n\nA `Background` can be instantiated with an optional first parameter, which is an object containing key/value pairs of properties to set. Any properties in the list above that are not found in the `props` argument are set to their default values. In most cases, though, you’d only deal with `Background` objects as return values from `parseElementStyle()`.\n\n##### Methods\n\n* `toString()`\n  Returns a string of all properties, in a format that matches browsers’ formatting of the `background` CSS shorthand property (when an element has only a single background). For reference, the format is:\n  `<color> <repeat> <attachment> <position> / <size> <origin> <clip>`\n\n---\n\n#### <a name=\"BackgroundList\"></a> `BackgroundList(arrayOfBackgrounds)`\n\nA collection of [`Background`][Background] objects representing all the backgrounds used for a single element.\n\n##### Properties\n\n`BackgroundList` objects only contain a single property called `backgrounds`, which is an array of `Background` objects.\n\nA `BackgroundList` can be instantiated with an optional first parameter, which is an array of `Background` objects that gets assigned to the `backgrounds` property. In most cases, though, you’d only deal with `BackgroundList` objects as return values from `parseElementStyle()`.\n\n##### Methods\n\n* `toString()`\n  Returns a comma-separated string of all `Background`s contained in the collection, calling `.toString()` on each `Background`. This matches browsers’ formatting of the `background` CSS shorthand property (when an element has multiple backgrounds).\n\n\n\n[parseElementStyle]: #Background\n[Background]: #Background\n[BackgroundList]: #BackgroundList\n\n[CSSBackgroundSpec]: http://www.w3.org/TR/css3-background/#backgrounds\n[CSSStyleDeclaration]: https://developer.mozilla.org/en-US/docs/Web/API/CSSStyleDeclaration\n","maintainers":[{"name":"gilmoreorless","email":"gilmoreorless@gmail.com"}],"time":{"modified":"2022-06-14T04:28:17.116Z","created":"2015-10-15T21:24:44.797Z","0.1.0":"2015-10-15T21:24:44.797Z"},"homepage":"https://github.com/gilmoreorless/css-background-parser#readme","repository":{"type":"git","url":"git+https://github.com/gilmoreorless/css-background-parser.git"},"author":{"name":"Gilmore Davidson"},"bugs":{"url":"https://github.com/gilmoreorless/css-background-parser/issues"},"license":"MIT","readmeFilename":"README.md"}